provider: huaweicloud
serviceName: ubutun-esc-demo
resources:
  - kind: vpc
    id:
    name: vpc1-wl
    properties:
      cidr: 192.168.0.0/16
  - kind: subnet
    id:
    name: subnet-web-wl
    properties:
      cidr: 192.168.10.0/24
      gatewayIp: 192.168.10.1
      vpc: vpc1-wl
  - kind: security
    id:
    name: osc-res-sg-wl
    properties:
      rules:
        - name: osc-res-sg-kafka
          priority: 1
          protocol: tcp
          cidr: 10.10.2.6/32
          direction: inbound
          ports: 8080,9092-9093,2181
          action: allow
        - name: osc-res-sg-ssh-public
          priority: 1
          protocol: tcp
          cidr: 121.36.59.153/32
          direction: inbound
          ports: 22,8080,9092-9093,2181
          action: allow
        - name: osc-res-sg-ssh-private
          priority: 1
          protocol: tcp
          cidr: 198.19.0.0/16
          direction: inbound
          ports: 22
          action: allow
  - kind: storage
    name: osc-res-storage-wl
    id:
    properties:
      type: SAS
      size: 20GiB
  - kind: vm
    name: ubutun-ecs-demo-wl
    id:
    properties:
      type: c7.large.4
      subnet: subnet-web-wl
      image: Ubuntu 20.04 server 64bit
      security: osc-res-sg-wl
      storage: osc-res-storage-wl
      publicly: true
  - kind: image
    id:
    name: Ubuntu 20.04 server 64bit
    properties:
      type: t2.large
  - kind: image
    name: centos-x64
    id:
    properties:
      type: t2.large
  - kind: billing
    id:
    name: billing
    properties:
      model: flat
      period: monthly
      currency: euro
      fixedPrice: 20
      variablePrice: 10
      variableItem: instance